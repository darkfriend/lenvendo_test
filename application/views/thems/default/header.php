<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Тест для levendo</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script type="text/javascript" src="/include/js/sketch.js"></script>
        <script type="text/javascript" src="/include/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="/include/css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="/include/css/bootstrap.min.css">
        <link rel="stylesheet" href="/include/css/styles.css">
        <!--[if IE]><script type="text/javascript" src="/include/js/excanvas.js"></script><![endif]-->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
    <?php
    /*function mergePictures($pict1, $pict2){
        if($pict1['typeImg']!==$pict2['typeImg']) return false;
        
        $name = md5($pict2['path'].time());
        $name = "$name.png";
        $image = str_replace(" ", "+", $pict2['path']);
        $image = substr($image, strpos($image, ","));
        $path_file = '/tmp/'.$name;
        file_put_contents($path_file, base64_decode($image));
        
        $pict2['path'] = $path_file;
        //echo $pict2['path'];
        
        list($sizePict1['width'], $sizePict1['height']) = getimagesize($pict1['path']);
        $sizePict1['type'] = 'png';
        switch($sizePict1['type']){
            case 'jpg' :
                $src1 = imagecreatefromjpeg($pict1['path']);
                $src2 = imagecreatefromjpeg($pict2['path']);
                break;
            case 'png' :
                $src1 = imagecreatefrompng($pict1['path']);
                imagealphablending($src1, true);
                imagesavealpha($src1, true);
                $src2 = imagecreatefrompng($pict2['path']);
                imagealphablending($src2, true);
                imagesavealpha($src2, true);
                break;
        }
        //var_dump($src2);
        if(!$src1 || !$src2) return false;
        //$canvas = imagecreatetruecolor($sizePict1['width'], $sizePict1['height']);
        //imagecolorallocate($canvas, 255, 255, 255);
        //imagefilledrectangle($canvas, 0);
        //if(imagecopy($src1, $src2, 0, 0, 0, 0, $sizePict1['width'], $sizePict1['height'])){
        if(imagecopy($src1, $src2, 0, 0, 0, 0, $sizePict1['width'], $sizePict1['height'])){
            //imagecopy($canvas, $src2, 0, 0, 0, 0, $sizePict1['width'], $sizePict1['height']);
            //$text_color = imagecolorallocate($canvas, 233, 14, 91);
            //imagestring($canvas, 1, 5, 5,  'Простая Текстовая Строка', $text_color);
            imagepng($src1, $pict1['path'] );//'/tmp/testVivi.png'
            return $pict1['path'];
        } else {
            return false;
        }
    }
    
    var_dump(mergePictures( array('typeImg'=>'png', 'path'=>'Z:\home\mvc-test.ru\www\upload\06.2014\1bce44e508a0766c06967f664a5e71ce.png'), array('typeImg'=>'png', 'path'=>'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABJIAAAEsCAYAAACYFZm9AAAgAElEQVR4Xu3dzZUrRbouYM7szrrbghazO4O2AGEB9OgOu7AAsABhAbQFLSwALKCwALAAYQEwO2fUN16QzlKLlCqVlZmKzHhyrVy1typ/Ip4valN6iQz91xs2AgQIECBAgAABAgQIECBAgAABAj0E/qvHMQ4hQIAAAQIECBAgQIAAAQIECBAg8IYgySAgQIAAAQIECBAgQIAAAQIECBDoJSBI6sXkIAIECBAgQIAAAQIECBAgQIAAAUGSMUCAAAECBAgQIECAAAECBAgQINBLQJDUi8lBBAgQIECAAAECBAgQIECAAAECgiRjgAABAgQIECBAgAABAgQIECBAoJeAIKkXk4MIECBAgAABAgQIECBAgAABAgQEScYAAQIECBAgQIAAAQIECBAgQIBALwFBUi8mBxEgQIAAAQIECBAgQIAAAQIECAiSjAECBAgQIECAAAECBAgQIECAAIFeAoKkXkwOIkCAAAECBAgQIECAAAECBAgQECQZAwQIECBAgAABAgQIECBAgAABAr0EBEm9mBxEgAABAgQIECBAgAABAgQIECAgSDIGCBAgQIAAAQIECBAgQIAAAQIEegkIknoxOYgAAQIECBAgQIAAAQIECBAgQECQZAwQIECAAAECBAgQIECAAAECBAj0EhAk9WJyEAECBAgQIECAAAECBAgQIECAgCDJGCBAgAABAgQIECBAgAABAgQIEOglIEjqxeQgAgQIECBAgAABAgQIECBAgAABQZIxQIAAAQIECBAgQIAAAQIECBAg0EtAkNSLyUEECBAgQIAAAQIECBAgQIAAAQKCJGOAAAECBAgQIECAAAECBAgQIECgl4AgqReTgwgQIECAAAECBAgQIECAAAECBARJxgABAgQIECBAgAABAgQIECBAgEAvAUFSLyYHESBAgAABAgQIECBAgAABAgQICJKMAQIECBAgQIAAAQIECBAgQIAAgV4CgqReTA4iQIAAAQIECBAgQIAAAQIECBAQJBkDBAgQIECAAAECBAgQIECAAAECvQQESb2YHESAAAECBAgQIECAAAECBAgQICBIMgYIECBAgAABAgQIECBAgAABAgR6CQiSejE5iAABAgQIECBAgAABAgQIECBAQJBkDBAgQIAAAQIECBAgQIAAAQIECPQSECT1YnIQAQIECBAgQIAAAQIECBAgQICAIMkYIECAAAECBAgQIECAAAECBAgQ6CUgSOrF5CACBAgQIECAAAECBAgQIECAAAFBkjFAgAABAgQIECBAgAABAgQIECDQS0CQ1IvJQQQIECBAgAABAgQIECBAgAABAoIkY4AAAQIECBAgQIAAAQIECBAgQKCXgCCpF5ODCBAgQIAAAQIECBAgQIAAAQIEBEnGAAECBAgQIECAAAECBAgQIECAQC8BQVIvJgcRIECAAAECBAgQIECAAAECBAgIkowBAgQIECBAgAABAgQIECBAgACBXgKCpF5MDiJAgAABAgQIECBAgAABAgQIEBAkGQMECBAgQIAAAQIECBAgQIAAAQK9BARJvZgcRIAAAQIECBAgQIAAAQIECBAgIEgyBggQIECAAAECBAgQIECAAAECBHoJCJJ6MTmIAAECBAgQIECAAAECBAgQIEBAkGQMECBAgAABAgQIECBAgAABAgQI9BIQJPVichABAgQIECBAgAABAgQIECBAgIAgyRggQIAAAQIECBAgQIAAAQIECBDoJSBI6sXkIAIECBAgQIAAAQIECBAgQIAAAUGSMUCAAAECBAgQIECAAAECBAgQINBLQJDUi8lBBAgQIECAAAECBAgQIECAAAECgiRjgAABAgQIECBAgAABAgQIECBAoJeAIKkXk4MIECBAgAABAgQIECBAgAABAgQEScYAAQIECBAgQIAAAQIECBAgQIBALwFBUi8mBxEgQIAAAQIECBAgQIAAAQIECAiSjAECBAgQIECAAAECBAgQIECAAIFeAoKkXkwOIkCAAAECBAgQIECAAAECBAgQECQZAwQIECBAgAABAgQIECBAgAABAr0EBEm9mBxEgAABAgQIECBAgAABAgQIECAgSDIGCBAgQIAAAQIECBAgQIAAAQIEegkIknoxOYgAAQIECBAgQIAAAQIECBAgQECQZAwQIECAAAECBAgQIECAAAECBAj0EhAk9WJyEAECBAgQIECAAAECBAgQIECAgCDJGCBAgAABAgQIECBAgAABAgQIEOglIEjqxeQgAgQIECBAgAABAgQIECBAgAABQZIxQIAAAQIECBAgQIAAAQIECBAg0EtAkNSLyUEECBAgQIAAAQIECBAgQIAAAQKCJGOAAIFHCmzLzd8p+7dlf35kQ9ybAAEC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AQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JaAIKmteustAQIECBAgQIAAAQIECBAgQGCwgCBpMJ0TCRAgQIAAAQIECBAgQIAAAQJtCQiS2qq33hIgQIAAAQIECBAgQIAAAQIEBgsIkgbTOZEAAQIECBAgQIAAAQIECBAg0JbA/wcwDQlp2cma5AAAAABJRU5ErkJggg==') ));*/
    
    
    //$mainCont = new controller_main();
    //var_dump( $mainCont->getRequestQuery(null, 'GET') );
    /*if (!empty($_POST['data'])){
        $data = filter_input(INPUT_POST, 'data', FILTER_SANITIZE_URL);
        $name = md5($data);
        $file = "/$name.png";
        if (!file_exists($file)){
            $image = str_replace(" ", "+", $data);
            $image = substr($image, strpos($image, ","));
            file_put_contents(PATH_TO_SAVE_IMG.$file, base64_decode($image));
            $parentImgID = filter_input(INPUT_POST, 'imgid', FILTER_SANITIZE_NUMBER_INT);
        }
        echo $file."<br>";
        echo $parentImgID;
        die();
    }*/
    ?>
    <header class="container panel panel-default">
        <div class="row">
            <div class="pull-left">
                <h1>Тестовое задание для Levendo <small>(от Darkfriend)</small></h1>
            </div>
            <div class="panel panel-info pull-right">
                <header class="panel-heading">
                    <span>Привет, <?=($data['user_id']) ? $data['login'] : 'Гость' ?>!</span>
                </header>
                <section class="panel-body">
                    <? if($data['user_id']) { ?>
                        <a href="/user/" class="btn btn-primary">Мой профиль</a>
                        <a href="/user/exit/" class="btn btn-danger">Выйти</a>
                    <? } else { ?>
                        <a href="/user/auth/" class="btn btn-primary">Авторизация</a>
                        <a href="/user/reg/" class="btn btn-primary">Регистрация</a>
                    <? } ?>
                </section>
            </div>
        </div>
        <div>
            <nav id="main_menu" class="nav navbar navbar-default" role="navigation">
                
                    <li class="pull-left">
                        <a href="/picture/" class="">Все рисунки</a>
                    </li>
                    <li class="pull-left">
                        <a href="/picture/add/" class="">Создать рисунок</a>
                    </li>
                    <li class="pull-left">
                        <a href="/picture/user/" class="">Мои рисунки</a>
                    </li>
                
                
            </nav>
        </div>
    </header>
    <main class="container">
        <section class="row">
